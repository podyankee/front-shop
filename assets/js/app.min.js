$(document).ready(function(){$(".phone-mask").inputmask({mask:"(999) 999-9999"});var e,t;$(document).on("click",".catalog-nav__header",function(){var e=$(this).find(".sandwich"),t=$(this).parent();$(window).width()<768?$(".mobile-nav__wrapper").hasClass("mobile-nav__wrapper--active")?($(".mobile-nav__wrapper").removeClass("mobile-nav__wrapper--active"),$(".sandwich").removeClass("sandwich--active"),t.toggleClass("catalog-nav--active")):($("body").toggleClass("fixed"),t.toggleClass("catalog-nav--active")):(e.toggleClass("sandwich--active"),t.toggleClass("catalog-nav--active"))}),$(window).width()<768&&$(document).on("click",".sandwich",function(){$(".catalog-nav").hasClass("catalog-nav--active")?($(".catalog-nav").removeClass("catalog-nav--active"),$(this).toggleClass("sandwich--active"),$(".mobile-nav__wrapper").toggleClass("mobile-nav__wrapper--active")):($(this).toggleClass("sandwich--active"),$("body").toggleClass("fixed"),$(".mobile-nav__wrapper").toggleClass("mobile-nav__wrapper--active"))}),$(window).width()<768&&$(".js-categories-prev").slick({slidesToShow:1,slidesToScroll:1,prevArrow:".categories-prev__btn-prev",nextArrow:".categories-prev__btn-next",adaptiveHeight:!0,infinite:!1,dots:!0}),e=$(".product-slider__count"),(t=$(".js-product-slider")).on("init afterChange",function(t,o,a,i){var s=(a||0)+1;e.text("Страница "+s+" из "+o.slideCount)}),t.slick({slidesToShow:4,slidesToScroll:1,prevArrow:".products-prev-slider__nav-prev",nextArrow:".products-prev-slider__nav-next",infinite:!1,responsive:[{breakpoint:1239,settings:{slidesToShow:3,arrow:!1,dots:!0}},{breakpoint:768,settings:{slidesToShow:1,arrow:!0,dots:!1}}]}),$(window).width()>767?$(".catalog-nav__item").hover(function(){$(this).closest(".catalog-nav__body").css("width",825)},function(){$(this).closest(".catalog-nav__body").css("width","auto")}):($(document).on("click",".catalog-nav__item",function(){$(this).addClass("catalog-nav__item--active"),$(this).siblings().removeClass("catalog-nav__item--active")}),$(document).on("click",".catalog-subnav__header",function(){$(".catalog-subnav__block").removeClass("catalog-subnav__block--active"),$(this).closest(".catalog-subnav__block").addClass("catalog-subnav__block--active")})),$(document).on("click",".location-question__btn",function(){var e=$(this).data("location");$(this).closest(".location-question").hide(),"no"===e&&$(this).closest(".location__body").addClass("is-location-choose")}),$(document).on("click",".location-choose__item, .location-choose__close",function(){$(this).closest(".location__body").removeClass("is-location-choose")}),$(document).on("click",".location__header",function(){$(this).siblings(".location__body").addClass("is-location-choose")}),$(".js-popup-link").magnificPopup({showCloseBtn:!1}),$(document).on("click",".popup__close",function(){$.magnificPopup.close()}),$("form").each(function(){$(this).on("submit",function(){if($(this).validate({rules:{name:"required",phone:"required","req-textarea":"required",password:"required"},messages:{name:"Введите корректное имя",phone:"Введите корректный номер",password:"Введите корректный пароль","req-textarea":"Заполните поле"},errorPlacement:function(e,t){t.attr("placeholder",e[0].outerText)}}),$(this).valid()){var e=$(this)[0].closest(".hide-on-success");e&&($(e).siblings(".show-on-success").show(),$(e).hide())}return!1})}),$(document).on("click",".review-line__number",function(){var e=$(this).parent().position().left;$(this).parent().siblings().removeClass("review-line__item--active"),$(this).parent().addClass("review-line__item--active"),$(".review-line").css("width",e-1)}),function(){$(document).on("click",".contacts-popup__toggle",function(){$(this).parent().addClass("contacts-popup--active")});var e=document.getElementsByClassName("contacts-popup");$(document).on("click",".contacts-popup__close",function(){$(e).removeClass("contacts-popup--active")})}(),$(window).width()>1239&&$.each($(".catalog-subnav"),function(e,t){new SimpleBar(t)}),$(".file-upload input[type=file]").change(function(){var e=$(this).val().replace(/.*\\/,"");$(this).closest(".file-upload").find(".file-upload__text").html(e)}),$(document).on("click",".breadcrumbs-nav__toggle",function(){$(this).parent().toggleClass("breadcrumbs__item--show-nav")}),$(document).on("click",".catalog-mobile-nav__label",function(){$(this).parent().toggleClass(".catalog-nav__item--active"),$(this).parent().siblings().removeClass(".catalog-nav__item--active")}),$(document).on("click",".counter__btn--minus",function(){var e,t=+$(this).parent().find(".counter__current-text").text();if(0===t)return!1;e=t-1,$(this).parent().find(".counter__current-text").text(e)}),$(document).on("click",".counter__btn--plus",function(){var e;e=+$(this).parent().find(".counter__current-text").text()+1,$(this).parent().find(".counter__current-text").text(e)}),$(document).on("click",".filter-item__header",function(){$(this).parent().toggleClass("filter-item--active")}),$(".filter-slider__line").each(function(){let e=$(this)[0],t=[$(this).parent().find(".filter-slider__value--from")[0],$(this).parent().find(".filter-slider__value--to")[0]],o=$(this).data("range-type");"price"===o?noUiSlider.create(e,{start:[2500,5900],connect:!0,range:{min:0,max:1e4},format:wNumb({decimals:0,thousand:" "})}):"mm"===o&&noUiSlider.create(e,{start:[.5,7],connect:!0,range:{min:0,max:10},format:wNumb({decimals:2})}),e.noUiSlider.on("update",function(e,o){t[o].value=e[o]}),t.forEach(function(t,o){t.addEventListener("change",function(){e.noUiSlider.setHandle(o,this.value)})})}),$(document).on("click",".sort-action__header",function(){$(this).parent().hasClass("sort-action--active")?$(this).parent().removeClass("sort-action--active"):($(".sort-action").removeClass("sort-action--active"),$(this).parent().addClass("sort-action--active"))}),$(document).on("click",".tags__toggle",function(){var e=$(this).parent();e.hasClass("tags--active")?(e.removeClass("tags--active"),$(this).text("Все запросы")):(e.addClass("tags--active"),$(this).text("Скрыть"))}),$(document).on("click",".dropdown__toggle",function(){$(this).parent().toggleClass("dropdown--show")}),$(window).width()>768&&$("body").click(function(e){0===$(e.target).closest(".dropdown--show").length&&$(".dropdown").removeClass("dropdown--show")}),$(document).on("click",".select__header",function(){var e=$(this).parent();e.hasClass("select--active")?e.removeClass("select--active"):($(".select").removeClass("select--active"),e.addClass("select--active"))}),$(document).on("click",".select__item",function(){var e=$(this).find(".select__value").text(),t=$(this).closest(".select");console.log(t),t.removeClass("select--active"),t.find(".select__current").text(e)})});var popularCategoriesSlider=function(){var e=$(".js-categories-prev");$(window).width()<768&&!e.hasClass("slick-initialized")?e.slick({slidesToShow:2,slidesToScroll:1}):$(window).width()>768&&e.hasClass("slick-initialized")&&e.slick("unslick")};$(window).on("resize",function(){popularCategoriesSlider()}),$(window).on("load",function(){$(".sk-circle").fadeOut(),$(".preloader__wrapper").delay(400).fadeOut("slow")});