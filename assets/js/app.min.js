$(document).ready(function(){$(".phone-mask").inputmask({mask:"(999) 999-9999"});var t,e;$(document).on("click",".catalog-nav__header",function(){var t=$(this).find(".sandwich"),e=$(this).parent();$(window).width()<768?$(".mobile-nav__wrapper").hasClass("mobile-nav__wrapper--active")?($(".mobile-nav__wrapper").removeClass("mobile-nav__wrapper--active"),$(".sandwich").removeClass("sandwich--active"),e.toggleClass("catalog-nav--active")):($("body").toggleClass("fixed"),e.toggleClass("catalog-nav--active")):(t.toggleClass("sandwich--active"),e.toggleClass("catalog-nav--active"))}),$(window).width()<768&&$(document).on("click",".sandwich",function(){$(".catalog-nav").hasClass("catalog-nav--active")?($(".catalog-nav").removeClass("catalog-nav--active"),$(this).toggleClass("sandwich--active"),$(".mobile-nav__wrapper").toggleClass("mobile-nav__wrapper--active")):($(this).toggleClass("sandwich--active"),$("body").toggleClass("fixed"),$(".mobile-nav__wrapper").toggleClass("mobile-nav__wrapper--active"))}),$(window).width()<768&&$(".js-categories-prev").slick({slidesToShow:1,slidesToScroll:1,prevArrow:".categories-prev__btn-prev",nextArrow:".categories-prev__btn-next",adaptiveHeight:!0,infinite:!1,dots:!0}),t=$(".product-slider__count"),(e=$(".js-product-slider")).on("init afterChange",function(e,a,i,o){var s=(i||0)+1;t.text("Страница "+s+" из "+a.slideCount)}),e.slick({slidesToShow:4,slidesToScroll:1,prevArrow:".products-prev-slider__nav-prev",nextArrow:".products-prev-slider__nav-next",infinite:!1,responsive:[{breakpoint:1239,settings:{slidesToShow:3,arrow:!1,dots:!0}},{breakpoint:768,settings:{slidesToShow:1,arrow:!0,dots:!1}}]}),$(window).width()>767?$(".catalog-nav__item").hover(function(){$(this).closest(".catalog-nav__body").css("width",825)},function(){$(this).closest(".catalog-nav__body").css("width","auto")}):($(document).on("click",".catalog-nav__item",function(){$(this).addClass("catalog-nav__item--active"),$(this).siblings().removeClass("catalog-nav__item--active")}),$(document).on("click",".catalog-subnav__header",function(){$(".catalog-subnav__block").removeClass("catalog-subnav__block--active"),$(this).closest(".catalog-subnav__block").addClass("catalog-subnav__block--active")})),$(document).on("click",".location-question__btn",function(){var t=$(this).data("location");$(this).closest(".location-question").hide(),"no"===t&&$(this).closest(".location__body").addClass("is-location-choose")}),$(document).on("click",".location-choose__item, .location-choose__close",function(){$(this).closest(".location__body").removeClass("is-location-choose")}),$(document).on("click",".location__header",function(){$(this).siblings(".location__body").addClass("is-location-choose")}),$(".js-popup-link").magnificPopup({showCloseBtn:!1}),$(document).on("click",".popup__close",function(){$.magnificPopup.close()}),$("form").each(function(){$(this).on("submit",function(){if($(this).validate({rules:{name:"required",phone:"required","req-textarea":"required",password:"required"},messages:{name:"Введите корректное имя",phone:"Введите корректный номер",password:"Введите корректный пароль","req-textarea":"Заполните поле"},errorPlacement:function(t,e){e.attr("placeholder",t[0].outerText)}}),$(this).valid()){var t=$(this)[0].closest(".hide-on-success");t&&($(t).siblings(".show-on-success").show(),$(t).hide())}return!1})}),$(document).on("click",".review-line__number",function(){var t=$(this).parent().position().left;$(this).parent().siblings().removeClass("review-line__item--active"),$(this).parent().addClass("review-line__item--active"),$(".review-line").css("width",t-1)}),function(){$(document).on("click",".contacts-popup__toggle",function(){$(this).parent().addClass("contacts-popup--active")});var t=document.getElementsByClassName("contacts-popup");$(document).on("click",".contacts-popup__close",function(){$(t).removeClass("contacts-popup--active")})}(),$(window).width()>1239&&$.each($(".catalog-subnav"),function(t,e){new SimpleBar(e)}),$(".file-upload input[type=file]").change(function(){var t=$(this).val().replace(/.*\\/,"");$(this).closest(".file-upload").find(".file-upload__text").html(t)}),$(document).on("click",".breadcrumbs-nav__toggle",function(){$(this).parent().toggleClass("breadcrumbs__item--show-nav")}),$(document).on("click",".catalog-mobile-nav__label",function(){$(this).parent().toggleClass(".catalog-nav__item--active"),$(this).parent().siblings().removeClass(".catalog-nav__item--active")}),$(document).on("click",".counter__btn--minus",function(){var t,e=+$(this).parent().find(".counter__current-text").text();if(0===e)return!1;t=e-1,$(this).parent().find(".counter__current-text").text(t)}),$(document).on("click",".counter__btn--plus",function(){var t;t=+$(this).parent().find(".counter__current-text").text()+1,$(this).parent().find(".counter__current-text").text(t)}),$(document).on("click",".filter-item__header",function(){$(this).parent().toggleClass("filter-item--active")}),$(".filter-slider__line").each(function(){let t=$(this)[0],e=[$(this).parent().find(".filter-slider__value--from")[0],$(this).parent().find(".filter-slider__value--to")[0]],a=$(this).data("range-type");"price"===a?noUiSlider.create(t,{start:[2500,5900],connect:!0,range:{min:0,max:1e4},format:wNumb({decimals:0,thousand:" "})}):"mm"===a&&noUiSlider.create(t,{start:[.5,7],connect:!0,range:{min:0,max:10},format:wNumb({decimals:2})}),t.noUiSlider.on("update",function(t,a){e[a].value=t[a]}),e.forEach(function(e,a){e.addEventListener("change",function(){t.noUiSlider.setHandle(a,this.value)})})}),$(document).on("click",".sort-action__header",function(){$(this).parent().hasClass("sort-action--active")?$(this).parent().removeClass("sort-action--active"):($(".sort-action").removeClass("sort-action--active"),$(this).parent().addClass("sort-action--active"))}),$(document).on("click",".tags__toggle",function(){var t=$(this).parent();t.hasClass("tags--active")?(t.removeClass("tags--active"),$(this).text("Все запросы")):(t.addClass("tags--active"),$(this).text("Скрыть"))}),$(document).on("click",".dropdown__toggle",function(){$(this).parent().toggleClass("dropdown--show")}),$(window).width()>768&&$("body").click(function(t){0===$(t.target).closest(".dropdown--show").length&&$(".dropdown").removeClass("dropdown--show")}),$(document).on("click",".select__header",function(){var t=$(this).parent();t.hasClass("select--active")?t.removeClass("select--active"):($(".select").removeClass("select--active"),t.addClass("select--active"))}),$(document).on("click",".select__item",function(){var t=$(this).find(".select__value").text(),e=$(this).closest(".select");console.log(e),e.removeClass("select--active"),e.find(".select__current").text(t)}),$(".tabs-list__item").click(function(){let t=$(this).attr("show-tab"),e=$(this).closest(".tabs").find(".tabs-content")[0],a=$(e).find("."+t);$(this).addClass("tabs-list__item--active").siblings().removeClass("tabs-list__item--active"),$(a).addClass("tab--active").siblings().removeClass("tab--active")})});var popularCategoriesSlider=function(){var t=$(".js-categories-prev");$(window).width()<768&&!t.hasClass("slick-initialized")?t.slick({slidesToShow:2,slidesToScroll:1}):$(window).width()>768&&t.hasClass("slick-initialized")&&t.slick("unslick")};$(window).on("resize",function(){popularCategoriesSlider()}),$(window).on("load",function(){$(".sk-circle").fadeOut(),$(".preloader__wrapper").delay(400).fadeOut("slow")});